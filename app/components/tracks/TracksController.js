var tracksModule=angular.module("oe.tracks",["ui.router"]);tracksModule.config(["$stateProvider",function(o){o.state("tracks",{url:"/tracks",templateUrl:"app/components/tracks/tracks.html",controller:"TracksController"})}]),tracksModule.controller("TracksController",["$mdDialog","$sessionStorage","$rootScope","ApiJsonFactory",function(o,r,s,t){var n=this;(null===r.tracks||"undefined"==typeof r.tracks)&&(r.tracks=[]),n.Tracks=r.tracks,n.Sessions=r.sessions,0===n.Tracks.length&&(t.getJson("tracks").then(function(o){n.Tracks=o.data.tracks,r.tracks=n.Tracks},function(o){console.error(o)}),t.getJson("sessions").then(function(o){n.Sessions=o.data.sessions,r.sessions=n.Sessions},function(o){console.error(o)})),n.showSession=function(r,s){o.track={singleTrack:r},o.show({controller:"TrackDialogController",templateUrl:"app/components/tracks/trackdialog.html",parent:angular.element(document.body),targetEvent:s})}}]),tracksModule.controller("TrackDialogController",["$mdDialog","$sessionStorage",function(o,r){var s=this;s.track=o.track.singleTrack,s.allSessions=r.sessions,s.count=function(o,r){for(var s=0,t=0;t<r.length;t++)o.id==r[t].track&&s++;return s},s.sessionsDetail=function(o,r){for(var t=0,n=s.count(o,r),e=new Array(n),a=0;a<r.length;a++)o.id==r[a].track&&(e[t++]=r[a]);return e},s.close=function(){o.hide()}}]);